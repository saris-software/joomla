/*
 Copyright (c)2010-2018 Nicholas K. Dionysopoulos / Akeeba Ltd
  @license GNU General Public License version 3, or later
*/
var $jscomp={scope:{},findInternal:function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");"undefined"==typeof admintools.ControlPanel&&(admintools.ControlPanel={graph:{from:"",to:"",exceptPoints:[],subsPoints:[],typePoints:[]},plots:[null,null],myIP:""});
(function(a){admintools.ControlPanel.loadGraphs=function(){admintools.ControlPanel.graph.from=document.getElementById("admintools_graph_datepicker").value;var b=new Date(admintools.ControlPanel.graph.from),b=new Date(b.getTime()+2592E6);admintools.ControlPanel.graph.to=b.getUTCFullYear()+"-"+(b.getUTCMonth()+1)+"-"+b.getUTCDate();admintools.ControlPanel.graph.exceptPoints=[];admintools.ControlPanel.graph.subsPoints=[];admintools.ControlPanel.graph.typePoints=[];b=a("#admintoolsExceptionsPieChart");
b.empty();b.hide();admintools.ControlPanel.plots[1]=null;a("#akthrobber2").show();b=a("#admintoolsExceptionsLineChart");b.empty();b.hide();admintools.ControlPanel.plots[0]=null;a("#akthrobber").show();admintools.ControlPanel.loadExceptionsLineGraph()};admintools.ControlPanel.loadExceptionsLineGraph=function(){a.getJSON("index.php?option=com_admintools&view=SecurityExceptions&datefrom="+admintools.ControlPanel.graph.from+"&dateto="+admintools.ControlPanel.graph.to+"&groupbydate=1&savestate=0&format=json&limit=0&limitstart=0",
function(b){a.each(b,function(a,b){admintools.ControlPanel.graph.exceptPoints.push([b.date,parseInt(100*b.exceptions)/100]);admintools.ControlPanel.graph.subsPoints.push([])});a("#akthrobber").hide();a("#admintoolsExceptionsLineChart").show();0==admintools.ControlPanel.graph.exceptPoints.length?a("#admintoolsExceptionsLineChartNoData").show():(admintools.ControlPanel.renderExceptionsLineGraph(),admintools.ControlPanel.loadExceptionsPieGraph())})};admintools.ControlPanel.loadExceptionsPieGraph=function(){a.getJSON("index.php?option=com_admintools&view=SecurityExceptions&datefrom="+
admintools.ControlPanel.graph.from+"&dateto="+admintools.ControlPanel.graph.to+"&groupbydate=0&groupbytype=1&savestate=0&format=json&limit=0&limitstart=0",function(b){a.each(b,function(a,b){admintools.ControlPanel.graph.typePoints.push([b.reason,parseInt(100*b.exceptions)/100])});a("#akthrobber2").hide();a("#admintoolsExceptionsPieChart").show();0==admintools.ControlPanel.graph.typePoints.length?a("#admintoolsExceptionsPieChartNoData").show():admintools.ControlPanel.renderExceptionsPieGraph()})};
admintools.ControlPanel.renderExceptionsLineGraph=function(){a.jqplot.config.enablePlugins=!0;admintools.ControlPanel.plots[0]=a.jqplot("admintoolsExceptionsLineChart",[admintools.ControlPanel.graph.subsPoints,admintools.ControlPanel.graph.exceptPoints],{show:!0,axes:{xaxis:{renderer:a.jqplot.DateAxisRenderer,tickInterval:"1 week"},yaxis:{min:0,tickOptions:{formatString:"%.2f"}},y2axis:{min:0,tickOptions:{formatString:"%u"}}},series:[{yaxis:"y2axis",lineWidth:1,renderer:a.jqplot.BarRenderer,rendererOptions:{barPadding:0,
barMargin:0,barWidth:5,shadowDepth:0,varyBarColor:0},markerOptions:{style:"none"},color:"#aae0aa"},{lineWidth:3,markerOptions:{style:"filledCircle",size:8},renderer:a.jqplot.hermiteSplineRenderer,rendererOptions:{steps:60,tension:.6}}],highlighter:{show:!0,sizeAdjust:7.5},axesDefaults:{useSeriesColor:!0}}).replot()};admintools.ControlPanel.renderExceptionsPieGraph=function(){a.jqplot.config.enablePlugins=!0;admintools.ControlPanel.plots[1]=a.jqplot("admintoolsExceptionsPieChart",[admintools.ControlPanel.graph.typePoints],
{show:!0,highlighter:{show:!1},seriesDefaults:{renderer:jQuery.jqplot.PieRenderer,rendererOptions:{showDataLabels:!0,dataLabels:"value"},markerOptions:{style:"none"}},legend:{show:!0,location:"e"}}).replot()};admintools.ControlPanel.warnBeforePurgingSessions=function(a){if(!confirm(Joomla.JText._("COM_ADMINTOOLS_LBL_DATABASETOOLS_PURGESESSIONS_WARN")))return a.preventDefault(),!1};admintools.ControlPanel.showChangelog=function(){a("#akeeba-changelog").modal("show")};admintools.ControlPanel.showUnblockMyself=
function(){a.ajax("index.php?option=com_admintools&view=ControlPanel&task=selfblocked&tmpl=component",{data:{ip:admintools.ControlPanel.myIP},success:function(b){if(1==b.match(/###([\s\S]*?)###/)[1]){b=a("#selfBlocked");var c=b.find("a");c.attr("href",c.attr("href")+"&ip="+admintools.ControlPanel.myIP);b.show()}}})};admintools.ControlPanel.showUpdateInformation=function(){a.ajax("index.php?option=com_admintools&view=ControlPanel&task=updateinfo&tmpl=component",{success:function(b,c,d){data=b.match(/###([\s\S]*?)###/)[1];
data.length&&a("#updateNotice").html(data)}})};a(document).ready(function(a){admintools.ControlPanel.loadGraphs();admintools.ControlPanel.showUnblockMyself();admintools.ControlPanel.showUpdateInformation();a("#admintools_graph_reload").click(admintools.ControlPanel.loadGraphs);a("#optimize").click(admintools.ControlPanel.warnBeforePurgingSessions)})})(akeeba.jQuery); //# sourceMappingURL=cpanelgraphs.min.map
