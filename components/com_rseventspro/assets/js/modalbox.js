// Modal Dialog Box
// copyright 8th July 2006, 16th April 2011 by Stephen Chapman
// http://javascript.about.com/
// permission to use this Javascript on your web page is granted
// provided that all of the code in this script (including these
// comments) is used without any alteration
function pageWidth(){return window.innerWidth!=null?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body!=null?document.body.clientWidth:null}function pageHeight(){return window.innerHeight!=null?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body!=null?document.body.clientHeight:null}function posLeft(){return typeof window.pageXOffset!="undefined"?window.pageXOffset:document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft?document.body.scrollLeft:0}function posTop(){return typeof window.pageYOffset!="undefined"?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function $modalbox(a){return document.getElementById(a)}function scrollFix(){var a=$modalbox("ol");a.style.top=posTop()+"px";a.style.left=posLeft()+"px"}function sizeFix(){var a=$modalbox("ol");a.style.height=pageHeight()+"px";a.style.width=pageWidth()+"px"}function kp(a){ky=a?a.which:event.keyCode;if(ky==88||ky==120)hm();return false}function inf(a){tag=document.getElementsByTagName("select");for(i=tag.length-1;i>=0;i--)tag[i].style.visibility=a;tag=document.getElementsByTagName("object");for(i=tag.length-1;i>=0;i--)tag[i].style.visibility=a;tag=document.getElementsByTagName("input");for(i=tag.length-1;i>=0;i--)tag[i].style.visibility=a;tag=document.getElementsByTagName("textarea");for(i=tag.length-1;i>=0;i--)tag[i].style.visibility=a;if("hidden"===a){tag=$modalbox("mbox").getElementsByTagName("input");for(i=tag.length-1;i>=0;i--)tag[i].style.visibility="visible";tag=$modalbox("mbox").getElementsByTagName("textarea");for(i=tag.length-1;i>=0;i--)tag[i].style.visibility="visible";tag=$modalbox("mbox").getElementsByTagName("select");for(i=tag.length-1;i>=0;i--)tag[i].style.visibility="visible"}}function rs_modal(a,b,c){var d="hidden";var e="block";var f="px";var g=$modalbox("ol");var h=$modalbox("mbd");var i=new Element("span",{"class":"rs_modal_close",events:{click:function(){hm("box")}}});var j=new Element("iframe",{src:a,frameBorder:0,scrolling:"no",width:b,height:c});h.innerHTML="";i.inject(h);j.inject(h);g.style.height=pageHeight()+f;g.style.width=pageWidth()+f;g.style.top=posTop()+f;g.style.left=posLeft()+f;g.style.display=e;var k=posTop()+(pageHeight()-c)/2-12;var l=posLeft()+(pageWidth()-b)/2-12;var m=$modalbox("mbox");m.style.top=(k<0?0:k)+f;m.style.left=(l<0?0:l)+f;m.style.width=b+f;m.style.height=c+f;inf(d);m.style.display=e;return false}function sm(a,b,c){var d="hidden";var e="block";var f="px";var g=$modalbox("ol");var h=$modalbox("mbd");h.innerHTML=$modalbox(a).innerHTML;g.style.height=pageHeight()+f;g.style.width=pageWidth()+f;g.style.top=posTop()+f;g.style.left=posLeft()+f;g.style.display=e;var i=posTop()+(pageHeight()-c)/2-12;var j=posLeft()+(pageWidth()-b)/2-12;var k=$modalbox("mbox");k.style.top=(i<0?0:i)+f;k.style.left=(j<0?0:j)+f;k.style.width=b+f;k.style.height=c+f;inf(d);k.style.display=e;return false}function hm(){var a="visible";var b="none";$modalbox("ol").style.display=b;$modalbox("mbox").style.display=b;inf(a);document.onkeypress=""}function initmb(){var a="absolute";var b="none";var c=document.getElementsByTagName("body")[0];var d=document.createDocumentFragment();var e=document.createElement("div");e.setAttribute("id","ol");e.style.display=b;e.style.position=a;e.style.top=0;e.style.left=0;e.style.zIndex=9998;e.style.width="100%";d.appendChild(e);var f=document.createElement("div");f.setAttribute("id","mbox");f.style.display=b;f.style.position=a;f.style.zIndex=9999;var g=document.createElement("span");f.appendChild(g);var h=document.createElement("div");h.setAttribute("id","mbd");g.appendChild(h);d.insertBefore(f,e.nextSibling);c.insertBefore(d,c.firstChild);window.onscroll=scrollFix;window.onresize=sizeFix}window.addEvent('domready', function(){initmb();});